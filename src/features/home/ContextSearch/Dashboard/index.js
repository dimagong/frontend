import React, {Fragment, useEffect, useState} from 'react'
import './styles.scss'
import LineChart from "./LineChart";
import appSlice from "app/slices/appSlice";
import {useDispatch, useSelector} from "react-redux";
import {selectDashboardData} from "app/selectors/userSelectors";
import ActivitiesDashboard from "./ActivitiesDashboard";
import ArrowDown from "assets/img/svg/arrow_down.svg";
import ArrowLeft from "assets/img/svg/arrow_left.svg";
import ArrowRight from "assets/img/svg/arrow_right.svg";
import CloseChart from "assets/img/svg/closeChart.svg";

const {
  getDashboardDataRequest,
  getActivityTypesRequest
} = appSlice.actions;

const testActivities = {"current_page":1,"data":[{"id":19,"user_id":1,"recipient_id":4,"action_type_id":10,"description":"User <b>Admin Wintheiser</b> updated application <b>Test VP</b> (<b>Reviewers</b>)","created_at":"2021-05-27T08:06:58.000000Z","updated_at":"2021-05-27T08:06:58.000000Z","options":[],"action_type":{"id":10,"name":"Application was updated","description":"Application was updated, by who and when","created_at":null,"updated_at":null},"user":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":18,"user_id":4,"recipient_id":1,"action_type_id":10,"description":"User <b>Admin Wintheiser</b> updated application <b>Test VP</b> (<b>Reviewers</b>)","created_at":"2021-05-27T08:06:58.000000Z","updated_at":"2021-05-27T08:06:58.000000Z","options":[],"action_type":{"id":10,"name":"Application was updated","description":"Application was updated, by who and when","created_at":null,"updated_at":null},"user":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":17,"user_id":4,"recipient_id":1,"action_type_id":8,"description":"User <b>Admin Wintheiser</b> updated application <b>Test VP</b> state to <b>approved</b>","created_at":"2021-05-27T08:06:54.000000Z","updated_at":"2021-05-27T08:06:54.000000Z","options":[],"action_type":{"id":8,"name":"Application state change","description":"Application state change, to what, by who and when","created_at":null,"updated_at":null},"user":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":16,"user_id":1,"recipient_id":1,"action_type_id":8,"description":"User <b>Admin Wintheiser</b> updated application <b>Test VP</b> state to <b>approved</b>","created_at":"2021-05-27T08:06:54.000000Z","updated_at":"2021-05-27T08:06:54.000000Z","options":[],"action_type":{"id":8,"name":"Application state change","description":"Application state change, to what, by who and when","created_at":null,"updated_at":null},"user":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":14,"user_id":1,"recipient_id":4,"action_type_id":7,"description":"User <b>Admin Wintheiser</b> added application <b>Test VP</b> to user <b>Prospect2 Hane</b>","created_at":"2021-05-27T07:37:20.000000Z","updated_at":"2021-05-27T07:37:20.000000Z","options":[],"action_type":{"id":7,"name":"New application added to user","description":"New application added to user, by who and when","created_at":null,"updated_at":null},"user":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":15,"user_id":4,"recipient_id":1,"action_type_id":7,"description":"User <b>Admin Wintheiser</b> added application <b>Test VP</b> to user <b>Prospect2 Hane</b>","created_at":"2021-05-27T07:37:20.000000Z","updated_at":"2021-05-27T07:37:20.000000Z","options":[],"action_type":{"id":7,"name":"New application added to user","description":"New application added to user, by who and when","created_at":null,"updated_at":null},"user":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":13,"user_id":4,"recipient_id":1,"action_type_id":6,"description":"User <b>Admin Wintheiser</b> updated %user_data%","created_at":"2021-05-27T07:32:31.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","options":[{"type":"first_name","name":"First name","old":"Prospect2","new":"Prospect2"},{"type":"last_name","name":"Last name","old":"Hane","new":"Hane"},{"type":"postcode","name":"Postcode","old":null,"new":null},{"type":"email","name":"Email","old":"nmpprospect2@webinspire.com.au","new":"nmpprospect2@webinspire.com.au"},{"type":"number","name":"Number","old":"1-973-688-5951","new":"1-973-688-5952"},{"type":"status","name":"Status","old":"inactive","new":"inactive"},{"type":"valid_until","name":"Valid until","old":null,"new":null},{"type":"avatar","name":"Avatar","old":null,"new":null},{"type":"notify","name":"Notify","old":0,"new":0},{"type":"notify_entity","name":"Notify entity","old":null,"new":null},{"type":"avatar_path","name":"Avatar path","old":"","new":null}],"action_type":{"id":6,"name":"User profile updated","description":"User profile updated, what update, by who and when","created_at":null,"updated_at":null},"user":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":12,"user_id":1,"recipient_id":4,"action_type_id":6,"description":"User <b>Admin Wintheiser</b> updated %user_data%","created_at":"2021-05-27T07:32:31.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","options":[{"type":"first_name","name":"First name","old":"Prospect2","new":"Prospect2"},{"type":"last_name","name":"Last name","old":"Hane","new":"Hane"},{"type":"postcode","name":"Postcode","old":null,"new":null},{"type":"email","name":"Email","old":"nmpprospect2@webinspire.com.au","new":"nmpprospect2@webinspire.com.au"},{"type":"number","name":"Number","old":"1-973-688-5951","new":"1-973-688-5952"},{"type":"status","name":"Status","old":"inactive","new":"inactive"},{"type":"valid_until","name":"Valid until","old":null,"new":null},{"type":"avatar","name":"Avatar","old":null,"new":null},{"type":"notify","name":"Notify","old":0,"new":0},{"type":"notify_entity","name":"Notify entity","old":null,"new":null},{"type":"avatar_path","name":"Avatar path","old":"","new":null}],"action_type":{"id":6,"name":"User profile updated","description":"User profile updated, what update, by who and when","created_at":null,"updated_at":null},"user":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":10,"user_id":4,"recipient_id":1,"action_type_id":11,"description":"User <b>Admin Wintheiser</b> deleted application <b>Test DForm</b>","created_at":"2021-05-27T07:16:04.000000Z","updated_at":"2021-05-27T07:16:04.000000Z","options":[],"action_type":{"id":11,"name":"Application was deleted","description":"Application was deleted, by who and when","created_at":null,"updated_at":null},"user":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":11,"user_id":1,"recipient_id":4,"action_type_id":11,"description":"User <b>Admin Wintheiser</b> deleted application <b>Test DForm</b>","created_at":"2021-05-27T07:16:04.000000Z","updated_at":"2021-05-27T07:16:04.000000Z","options":[],"action_type":{"id":11,"name":"Application was deleted","description":"Application was deleted, by who and when","created_at":null,"updated_at":null},"user":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":9,"user_id":1,"recipient_id":4,"action_type_id":10,"description":"User <b>Admin Wintheiser</b> updated application <b>Test DForm</b> (<b>Reviewers</b>)","created_at":"2021-05-26T14:11:30.000000Z","updated_at":"2021-05-26T14:11:30.000000Z","options":[],"action_type":{"id":10,"name":"Application was updated","description":"Application was updated, by who and when","created_at":null,"updated_at":null},"user":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":8,"user_id":4,"recipient_id":1,"action_type_id":10,"description":"User <b>Admin Wintheiser</b> updated application <b>Test DForm</b> (<b>Reviewers</b>)","created_at":"2021-05-26T14:11:30.000000Z","updated_at":"2021-05-26T14:11:30.000000Z","options":[],"action_type":{"id":10,"name":"Application was updated","description":"Application was updated, by who and when","created_at":null,"updated_at":null},"user":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":7,"user_id":4,"recipient_id":1,"action_type_id":8,"description":"User <b>Admin Wintheiser</b> updated application <b>Test DForm</b> state to <b>submitted</b>","created_at":"2021-05-26T14:11:25.000000Z","updated_at":"2021-05-26T14:11:25.000000Z","options":[],"action_type":{"id":8,"name":"Application state change","description":"Application state change, to what, by who and when","created_at":null,"updated_at":null},"user":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":6,"user_id":1,"recipient_id":1,"action_type_id":8,"description":"User <b>Admin Wintheiser</b> updated application <b>Test DForm</b> state to <b>submitted</b>","created_at":"2021-05-26T14:11:25.000000Z","updated_at":"2021-05-26T14:11:25.000000Z","options":[],"action_type":{"id":8,"name":"Application state change","description":"Application state change, to what, by who and when","created_at":null,"updated_at":null},"user":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null}},{"id":4,"user_id":1,"recipient_id":4,"action_type_id":7,"description":"User <b>Admin Wintheiser</b> added application <b>Test DForm</b> to user <b>Prospect2 Hane</b>","created_at":"2021-05-26T12:05:02.000000Z","updated_at":"2021-05-26T12:05:02.000000Z","options":[],"action_type":{"id":7,"name":"New application added to user","description":"New application added to user, by who and when","created_at":null,"updated_at":null},"user":{"id":1,"email":"nmpadmin@webinspire.com.au","number":"409.787.9700 x4301","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"inactive","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-25T23:42:08.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Admin","last_name":"Wintheiser","postcode":null,"notify":0,"avatar_path":"","avatar":null},"recipient":{"id":4,"email":"nmpprospect2@webinspire.com.au","number":"1-973-688-5952","email_verified_at":"2021-05-25T23:42:08.000000Z","valid_until":null,"status":"active","deleted_at":null,"created_at":"2021-05-25T23:42:08.000000Z","updated_at":"2021-05-27T07:32:31.000000Z","login_at":"2021-05-25 23:42:08","ip":null,"first_name":"Prospect2","last_name":"Hane","postcode":null,"notify":0,"avatar_path":"","avatar":null}}],"first_page_url":"http://nmpstagev1-env.eba-if6cahmp.eu-west-2.elasticbeanstalk.com/api/user/activities-dashboard?page=1","from":1,"last_page":2,"last_page_url":"http://nmpstagev1-env.eba-if6cahmp.eu-west-2.elasticbeanstalk.com/api/user/activities-dashboard?page=2","next_page_url":null,"path":"http://nmpstagev1-env.eba-if6cahmp.eu-west-2.elasticbeanstalk.com/api/user/activities-dashboard","per_page":15,"prev_page_url":null,"to":15,"total":15};

const Dashboard = ({ }) => {
  const dispatch = useDispatch();
  const dashboardData = useSelector(selectDashboardData)
  const [isActivitiesShown, setIsActivitiesShown] = useState(true);
  const [isChartShown, setIsChartShown] = useState([true, true]);
  const [isBigChartShown, setIsBigChartShown] = useState([true, true]);
  const [daysNumber, setDaysNumber] = useState([7, 7])

  const handleChangeChart = () => {
    if (isBigChartShown[0]) {
      setIsActivitiesShown(false);
    }
    setIsBigChartShown([!isBigChartShown[0], isBigChartShown[1]]);
  }

  useEffect(() => {
    dispatch(getDashboardDataRequest({page: 1}));
    dispatch(getActivityTypesRequest());
  }, []);

  if (!isChartShown && !isActivitiesShown) {
    return null
  }

  return (<div className={'activity-dashboard'}>
    <h1 style={{fontWeight: 'bolder', color: '#707070', marginBottom: '3vh'}}>Dashboard</h1>
    {(isChartShown[0]) && <div className={'dashboard-charts'}>
      {isChartShown[0] &&
      <div style={isBigChartShown[0] ? {width: '45%', background: 'white', marginRight: '1%'} : {width: '22%', background: 'white', marginRight: '1%'}}
           className={'dashboard-one-chart'}>
            <span className={'arrow-left'}>
              <img src={isBigChartShown[0] ? ArrowLeft : ArrowRight}
                   onClick={handleChangeChart}/>
              <img src={CloseChart} className={'close-chart'}
                   onClick={() => setIsChartShown([false, isChartShown[1]])}/>
            </span>
        <span className={'change-chart-days ' + (!isBigChartShown[0] ? ' change-chart-days-smaller' : '')}>
              {[{label: 'y', daysNumber: 365}, {label: 'm', daysNumber: 28}, {label: 'w', daysNumber: 7}].map(item => {
                return <span onClick={() => setDaysNumber([item.daysNumber, daysNumber[1]])}
                             className={'chart-days ' + (daysNumber[0] === item.daysNumber ? 'active-days' : '')}>
                  {item.label}
                </span>
              })}
            </span>
        {!isActivitiesShown && isBigChartShown[0] &&
        <span className={'arrow-open-activities'} onClick={() => setIsActivitiesShown(true)}>
                <img src={ArrowDown}/>
              </span>}
        <LineChart
          title={'Actions'}
          chartId={'chart-1'}
          data={dashboardData?.usersActivitiesSchedule}
          aspectRatio={isBigChartShown[0] ? 3 : 1.46}
          daysNumber={daysNumber[0]}
        />
      </div>}
    </div>}
    {isActivitiesShown &&
    <div style={isChartShown ? {borderTopColor: '#7367f0', background: 'white'} : {
      borderTopColor: '#707070',
      background: 'white'
    }} className={'dashboard-activities'}>
      <h3 className={'users-activities-title'}>Users activities</h3>
      <ActivitiesDashboard
        //usersActivities={dashboardData?.usersActivities}
        usersActivities={testActivities}
        isActivitiesShown={isActivitiesShown}
        setIsActivitiesShown={setIsActivitiesShown}
      />
    </div>}
  </div>)
}

export default Dashboard

